<!doctype html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<style type="text/css">
  html { height: 100% }
  body { height: 100%; margin: 0; padding: 0 }
  #map_canvas { height: 100% }
</style>
<script type="text/javascript"
    src="http://maps.googleapis.com/maps/api/js?sensor=false">
</script>
<script type="text/javascript">
  /*function initialize() {
    var latlng = new google.maps.LatLng(-34.397, 150.644);
    var myOptions = {
      zoom: 8,
      center: latlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    var map = new google.maps.Map(document.getElementById("map_canvas"),
        myOptions);
  }*/
  /*var geocoder;
  var map;
  function initialize() {
    geocoder = new google.maps.Geocoder();
    var latlng = new google.maps.LatLng(40.7141667, -74.0063889);
    var myOptions = {
      zoom: 8,
      center: latlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP


    }
    map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
  }*/
var geocoder;

  function codeAddress() {
    var address = document.getElementById("address").value;
    geocoder.geocode( { 'address': address}, function(results, status) {
      if (status == google.maps.GeocoderStatus.OK) {
        map.setCenter(results[0].geometry.location);
        var marker = new google.maps.Marker({
            map: map,
            position: results[0].geometry.location
        });
      } else {
        alert("Geocode was not successful for the following reason: " + status);
      }
    });
  }
	var map;
	var panorama;
	var astorPlace = new google.maps.LatLng(40.729884, -73.990988);
	var busStop = new google.maps.LatLng(40.729559678851025, -73.99074196815491);
	var cafe = new google.maps.LatLng(40.730031233910694, -73.99142861366272);
	var bank = new google.maps.LatLng(40.72968163306612, -73.9911389350891);

	function initialize() {
		geocoder = new google.maps.Geocoder();

	  // Set up the map
	  var mapOptions = {
	    center: astorPlace,
	    zoom: 18,
	    mapTypeId: google.maps.MapTypeId.ROADMAP,
	    streetViewControl: false
	  };
	  map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);

	  // Setup the markers on the map
	  var cafeMarkerImage =
	      new google.maps.MarkerImage('http://chart.apis.google.com/chart?chst=d_map_pin_icon&chld=cafe|FFFF00');
	  var cafeMarker = new google.maps.Marker({
	      position: cafe,
	      map: map,
	      icon: cafeMarkerImage,
	      title: 'Cafe'
	  });

	  var bankMarkerImage =
	      new google.maps.MarkerImage('http://chart.apis.google.com/chart?chst=d_map_pin_icon&chld=dollar|FFFF00');
	  var bankMarker = new google.maps.Marker({
	      position: bank,
	      map: map,
	      icon: bankMarkerImage,
	      title: 'Bank'
	  });

	  var busMarkerImage =
	      new google.maps.MarkerImage('http://chart.apis.google.com/chart?chst=d_map_pin_icon&chld=bus|FFFF00');
	  var busMarker = new google.maps.Marker({
	      position: busStop,
	      map: map,
	      icon: busMarkerImage,
	      title: 'Bus Stop'
	  });

	  // We get the map's default panorama and set up some defaults.
	  // Note that we don't yet set it visible.
	  panorama = map.getStreetView();
	  panorama.setPosition(astorPlace);
	  panorama.setPov({
	    heading: 265,
	    zoom:1,
	    pitch:0}
	  );
	}

	function toggleStreetView() {
	  var toggle = panorama.getVisible();
	  if (toggle == false) {
	    panorama.setVisible(true);
	  } else {
	    panorama.setVisible(false);
	  }
	}

</script>
</head>
<body onload="initialize()">
  <div id="map_canvas" style="width:100%; height: 480px;"></div>
	  <div>
	    <input id="address" type="textbox" value="Sydney, NSW">
	    <input type="button" value="Encode" onclick="codeAddress()">
	  </div>
</body>
</html>

<!-- 
var geocoder;
  var map;
  function initialize() {
    geocoder = new google.maps.Geocoder();
    var latlng = new google.maps.LatLng(-34.397, 150.644);
    var myOptions = {
      zoom: 8,
      center: latlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    }
    map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
  }

  function codeAddress() {
    var address = document.getElementById("address").value;
    geocoder.geocode( { 'address': address}, function(results, status) {
      if (status == google.maps.GeocoderStatus.OK) {
        map.setCenter(results[0].geometry.location);
        var marker = new google.maps.Marker({
            map: map,
            position: results[0].geometry.location
        });
      } else {
        alert("Geocode was not successful for the following reason: " + status);
      }
    });
  }

<body onload="initialize()">
 <div id="map_canvas" style="width: 320px; height: 480px;"></div>
  <div>
    <input id="address" type="textbox" value="Sydney, NSW">
    <input type="button" value="Encode" onclick="codeAddress()">
  </div>
</body>


-->